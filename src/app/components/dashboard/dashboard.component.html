<div class="p-4 sm:p-6">
  <!-- Título del Dashboard -->
  <div class="mb-6 sm:mb-8">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h1 class="text-xl sm:text-2xl font-bold text-slate-800">Dashboard</h1>
        <p class="text-sm sm:text-base text-slate-600">Resumen general del sistema de inventario</p>
      </div>
      <!-- Alerta de Mantenimiento -->
      <div *ngIf="stats?.necesitanMantenimiento" class="mt-4 sm:mt-0 flex items-center bg-amber-50 border border-amber-200 text-amber-800 px-4 py-2 rounded-lg text-sm">
        <i class="fas fa-exclamation-triangle mr-2"></i>
        <span>Hay <strong>{{stats?.necesitanMantenimiento}}</strong> equipos que requieren mantenimiento preventivo.</span>
      </div>
    </div>
  </div>

  <!-- Tarjetas de Estadísticas -->
  <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8">
    <!-- Total de Equipos -->
    <div class="bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-slate-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs sm:text-sm font-medium text-slate-600">Total Equipos</p>
          <h3 class="text-lg sm:text-2xl font-bold text-slate-800">{{totalEquipos}}</h3>
        </div>
        <div class="bg-blue-100 p-2 sm:p-3 rounded-full">
          <i class="fas fa-desktop text-sm sm:text-base text-blue-600"></i>
        </div>
      </div>
    </div>

    <!-- Equipos Asignados -->
    <div class="bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-slate-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs sm:text-sm font-medium text-slate-600">Asignados</p>
          <h3 class="text-lg sm:text-2xl font-bold text-slate-800">{{equiposAsignados}}</h3>
        </div>
        <div class="bg-green-100 p-2 sm:p-3 rounded-full">
          <i class="fas fa-users text-sm sm:text-base text-green-600"></i>
        </div>
      </div>
    </div>

    <!-- En Mantenimiento -->
    <div class="bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-slate-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs sm:text-sm font-medium text-slate-600">Mantenimiento</p>
          <h3 class="text-lg sm:text-2xl font-bold text-slate-800">{{enMantenimiento}}</h3>
        </div>
        <div class="bg-yellow-100 p-2 sm:p-3 rounded-full">
          <i class="fas fa-tools text-sm sm:text-base text-yellow-600"></i>
        </div>
      </div>
    </div>

    <!-- Disponibles -->
    <div class="bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-slate-200">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs sm:text-sm font-medium text-slate-600">Disponibles</p>
          <h3 class="text-lg sm:text-2xl font-bold text-slate-800">{{disponibles}}</h3>
        </div>
        <div class="bg-purple-100 p-2 sm:p-3 rounded-full">
          <i class="fas fa-box-open text-sm sm:text-base text-purple-600"></i>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección de Tablas y Gráficos -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Últimos Equipos Registrados -->
    <div class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-x-auto">
      <div class="p-4 sm:p-6 border-b border-slate-200">
        <h2 class="text-base sm:text-lg font-semibold text-slate-800">Últimos Equipos</h2>
      </div>
      <div class="p-4 sm:p-6">
        <table class="w-full min-w-[500px]">
          <thead>
            <tr class="text-xs sm:text-sm font-medium text-slate-600 border-b border-slate-200">
              <th class="pb-3 text-left">Equipo</th>
              <th class="pb-3 text-left">Serial</th>
              <th class="pb-3 text-left">Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of recentChanges" class="text-xs sm:text-sm text-slate-600 border-b border-slate-200">
              <td class="py-3">{{item.marca}} {{item.modelo}}</td>
              <td class="py-3">{{item.tipo}}</td>
              <td class="py-3">
                <span class="px-2 py-1 rounded-full text-xs" 
                      [ngClass]="{
                        'bg-green-100 text-green-700': item.estado === 'Asignado',
                        'bg-blue-100 text-blue-700': item.estado === 'Disponible',
                        'bg-yellow-100 text-yellow-700': item.estado === 'Mantenimiento',
                        'bg-red-100 text-red-700': item.estado === 'Dañado'
                      }">
                  {{item.estado}}
                </span>
              </td>
            </tr>
            <tr *ngIf="recentChanges.length === 0">
              <td colspan="3" class="py-4 text-center text-slate-500">No hay equipos registrados recientemente</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Actividad Reciente -->
    <div class="bg-white rounded-lg shadow-sm border border-slate-200">
      <div class="p-4 sm:p-6 border-b border-slate-200">
        <h2 class="text-base sm:text-lg font-semibold text-slate-800">Actividad Reciente</h2>
      </div>
      <div class="p-4 sm:p-6">
        <div class="space-y-4 sm:space-y-6">
          <div *ngFor="let item of recentChanges" class="flex items-start space-x-3 sm:space-x-4">
            <div class="bg-blue-100 p-2 rounded-full flex-shrink-0">
              <i class="fas fa-plus text-xs sm:text-sm text-blue-600"></i>
            </div>
            <div>
              <p class="text-xs sm:text-sm text-slate-600">Se registró: <strong>{{item.marca}} {{item.modelo}}</strong></p>
              <p class="text-xs text-slate-500">{{item.fechaRegistro}}</p>
            </div>
          </div>
          <div *ngIf="recentChanges.length === 0" class="text-center py-6 text-slate-500 text-sm">
            No hay actividad reciente para mostrar
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
